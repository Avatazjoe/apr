{% extends "appointments/home.html" %}
{% load i18n %}
{% block title %}{{object}} {% trans "Calendar" %}{% endblock %}
{% block calendar_title %}{{object}} {% trans "Calendar" %}{% endblock %}

{% block event_feed_js %}
<script type="text/javascript">
    $(document).ready(function() {	
		$('#calendar').fullCalendar({
			header: {
				left: 'prev,next,today',
				center: 'title',
				right: 'month,agendaWeek,agendaDay'
			},
			defaultDate: '{% now "c" %}',
			editable: false,
			eventLimit: true, // allow "more" link when too many events
			events: "{% url 'appointments:venue_event_feed' pk=object.pk %}",
			slotEventOverlap: false,
			dayClick: function(date, allDay, jsEvent, view) {
				$('#calendar').fullCalendar('changeView', 'agendaDay');
				$('#calendar').fullCalendar('gotoDate', date);
			},
			defaultView: "agendaDay",
			height: "auto",
			minTime: "08:00",
			maxTime: "19:00",
		});		
	});
</script>
{% endblock %}